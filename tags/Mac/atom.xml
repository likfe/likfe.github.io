<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://likfe.com</id>
    <title>Cafeting • Posts by &#34;mac&#34; tag</title>
    <link href="https://likfe.com" />
    <updated>2023-11-21T06:05:47.000Z</updated>
    <category term="Android" />
    <category term="Flurry" />
    <category term="Confluence" />
    <category term="反编译" />
    <category term="ReactNative" />
    <category term="AccessibilityNodeInfo" />
    <category term="StackOverflow" />
    <category term="Proxy" />
    <category term="AndroidStudio" />
    <category term="Translucent" />
    <category term="SwipeBack" />
    <category term="PopWindow" />
    <category term="AMH" />
    <category term="Flarum" />
    <category term="PHP" />
    <category term="Composer" />
    <category term="ViewPager" />
    <category term="ADB" />
    <category term="Clipboard" />
    <category term="framework" />
    <category term="gradle" />
    <category term="DialogFragment" />
    <category term="PopupWindow" />
    <category term="Google" />
    <category term="Glide" />
    <category term="Intent" />
    <category term="RecyclerView" />
    <category term="Lambda" />
    <category term="Leancloud" />
    <category term="Gradle" />
    <category term="Messenger" />
    <category term="Make" />
    <category term="Mac" />
    <category term="Linux" />
    <category term="JDK" />
    <category term="Fragment" />
    <category term="View" />
    <category term="Scrollbar" />
    <category term="备案" />
    <category term="域名" />
    <category term="Github" />
    <category term="GreenDao" />
    <category term="Rust" />
    <category term="IDEA" />
    <category term="GooglePlay" />
    <category term="Docker" />
    <category term="Jenkins" />
    <category term="MAMP" />
    <category term="树莓派" />
    <category term="Sublime Text" />
    <category term="Emmet" />
    <category term="ThinkPHP" />
    <category term="GitBook" />
    <category term="OSX" />
    <entry>
        <id>https://likfe.com/2023/11/21/cmdlineToolsWithJdk/</id>
        <title>一文了解：Android cmdline-tools 版本与其最小JDK关系</title>
        <link rel="alternate" href="https://likfe.com/2023/11/21/cmdlineToolsWithJdk/"/>
        <content type="html">&lt;p&gt;关键词：Android cmdline-tools 历史版本、Android cmdline-tools 最小JDK版本、JDK 对应 major version、JDK LTS 信息&lt;/p&gt;
&lt;p&gt;由于 JDK8 是一个常用的、较低的版本，因此只需关注 JDK8 及以上版本的运行情况。&lt;/p&gt;
&lt;h2 id=&#34;cmdline-tools-版本和最低-JDK&#34;&gt;&lt;a href=&#34;#cmdline-tools-版本和最低-JDK&#34; class=&#34;headerlink&#34; title=&#34;cmdline-tools 版本和最低 JDK&#34;&gt;&lt;/a&gt;cmdline-tools 版本和最低 JDK&lt;/h2&gt;&lt;p&gt;最终结论：（在 Mac 上，基于 JDK8 测试的结果）&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;cmdline-tools 版本&lt;/th&gt;
&lt;th&gt;最低 JDK&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;16.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;Android 官网的 cmdline-tools 提供的最新版本是16.0（截止2024年09月05日），也就是说，其 Runtime 的 JDK 版本必须是 JDK17 及以上。&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h3 id=&#34;检查流程&#34;&gt;&lt;a href=&#34;#检查流程&#34; class=&#34;headerlink&#34; title=&#34;检查流程&#34;&gt;&lt;/a&gt;检查流程&lt;/h3&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;cmdline-tools 版本&lt;/th&gt;
&lt;th&gt;SdkManagerCliSettings&lt;/th&gt;
&lt;th&gt;AndroidLocationsProvider&lt;/th&gt;
&lt;th&gt;最低 JDK&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;61 (JDK 17)&lt;/td&gt;
&lt;td&gt;55 (JDK 11)&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;61 (JDK 17)&lt;/td&gt;
&lt;td&gt;55 (JDK 11)&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;61 (JDK 17)&lt;/td&gt;
&lt;td&gt;55 (JDK 11)&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;55 (JDK 11)&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;55 (JDK 11)&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;52 (JDK 8)&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;通过上表可以看出，在 cmdline-tools 内部，各个 Jar 的编译目标 JDK 版本存在不一致的情况。因此，在实际运行时，需要将所有 Jar 文件的编译目标 JDK 版本的最大值作为 cmdline-tools 运行时的最小的 JDK 版本。&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$ java -version&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;java version &lt;span class=&#34;string&#34;&gt;&amp;quot;1.8.0_351&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ &lt;span class=&#34;built_in&#34;&gt;cd&lt;/span&gt; path/cmdline-tools/9.0/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ ./sdkmanager --list&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Error: A JNI error has occurred, please check your installation and try again&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Exception &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; thread &lt;span class=&#34;string&#34;&gt;&amp;quot;main&amp;quot;&lt;/span&gt; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;由上述报错信息可知，&lt;code&gt;com/android/prefs/AndroidLocationsProvider&lt;/code&gt; 要求最低使用 version 55.0（JDK 11）。&lt;/p&gt;
&lt;p&gt;但是其他 class （比如 &lt;code&gt;lib/sdklib/libsdkmanager_lib.jar&lt;/code&gt; 内的 &lt;code&gt;com.android.sdklib.tool.sdkmanager.SdkManagerCliSettings&lt;/code&gt;）仍旧是 version 52.0 （JDK 8）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;这里的思路是：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;直接切换到cmdline-tools对应版本，然后基于 runtime JDK &amp;#x3D; 8 的环境，执行 &lt;code&gt;./sdkmanager --version&lt;/code&gt; 检查是否报错，如报错，查看要求的最低 version 为多少。（低于JDK8的不再验证）&lt;/p&gt;
&lt;p&gt;验证的脚本：&lt;code&gt;majorVersion.sh&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;使用方法：.&amp;#x2F;majorVersion.sh path&amp;#x2F;cmdline-tools&amp;#x2F;11.0&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$1&lt;/span&gt;/bin/sdkmanager --version&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable&#34;&gt;$1&lt;/span&gt;/bin/sdkmanager --version 2&amp;gt;&amp;amp;1 | grep &lt;span class=&#34;string&#34;&gt;&amp;quot;class file&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;jar_file=/lib/sdklib/libsdkmanager_lib.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;-&amp;gt; &lt;span class=&#34;variable&#34;&gt;$jar_file&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 使用 javap 命令解析 JAR 文件内指定的 class&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;output=$(javap -verbose -classpath &lt;span class=&#34;string&#34;&gt;&amp;quot;$1&lt;span class=&#34;variable&#34;&gt;$&amp;#123;jar_file&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt; com.android.sdklib.tool.sdkmanager.SdkManagerCliSettings 2&amp;gt;&amp;amp;1)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#echo &amp;quot;$output&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 查找主要版本号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major_version=$(&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$output&lt;/span&gt;&amp;quot;&lt;/span&gt; | grep  &lt;span class=&#34;string&#34;&gt;&amp;#x27;major version&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 打印主要版本号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;--&amp;gt; &lt;span class=&#34;variable&#34;&gt;$major_version&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;##---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;jar_file=/lib/common/tools.common.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;-&amp;gt; &lt;span class=&#34;variable&#34;&gt;$jar_file&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 使用 javap 命令解析 JAR 文件内指定的 class&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;output=$(javap -verbose -classpath &lt;span class=&#34;string&#34;&gt;&amp;quot;$1&lt;span class=&#34;variable&#34;&gt;$&amp;#123;jar_file&amp;#125;&lt;/span&gt;&amp;quot;&lt;/span&gt; com.android.prefs.AndroidLocationsProvider 2&amp;gt;&amp;amp;1)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 查找主要版本号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major_version=$(&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&lt;span class=&#34;variable&#34;&gt;$output&lt;/span&gt;&amp;quot;&lt;/span&gt; | grep  &lt;span class=&#34;string&#34;&gt;&amp;#x27;major version&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# # 打印主要版本号&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;--&amp;gt; &lt;span class=&#34;variable&#34;&gt;$major_version&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;验证结果：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 11.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Exception &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; thread &lt;span class=&#34;string&#34;&gt;&amp;quot;main&amp;quot;&lt;/span&gt; java.lang.UnsupportedClassVersionError: com/android/sdklib/tool/sdkmanager/SdkManagerCli has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 52.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/sdklib/libsdkmanager_lib.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/common/tools.common.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 10.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Exception &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; thread &lt;span class=&#34;string&#34;&gt;&amp;quot;main&amp;quot;&lt;/span&gt; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/sdklib/libsdkmanager_lib.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/common/tools.common.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 9.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Exception &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; thread &lt;span class=&#34;string&#34;&gt;&amp;quot;main&amp;quot;&lt;/span&gt; java.lang.UnsupportedClassVersionError: com/android/prefs/AndroidLocationsProvider has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/sdklib/libsdkmanager_lib.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/common/tools.common.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 8.0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/sdklib/libsdkmanager_lib.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-&amp;gt; /lib/common/tools.common.jar&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;major version: 52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;


&lt;h2 id=&#34;扩展资料&#34;&gt;&lt;a href=&#34;#扩展资料&#34; class=&#34;headerlink&#34; title=&#34;扩展资料&#34;&gt;&lt;/a&gt;扩展资料&lt;/h2&gt;&lt;h3 id=&#34;cmdline-tools-历史版本下载&#34;&gt;&lt;a href=&#34;#cmdline-tools-历史版本下载&#34; class=&#34;headerlink&#34; title=&#34;cmdline-tools 历史版本下载&#34;&gt;&lt;/a&gt;cmdline-tools 历史版本下载&lt;/h3&gt;&lt;p&gt;官网地址：&lt;a href=&#34;https://developer.android.com/studio&#34;&gt;https://developer.android.com/studio&lt;/a&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;cmdline-tools 版本&lt;/th&gt;
&lt;th&gt;最低 JDK&lt;/th&gt;
&lt;th&gt;Mac&lt;/th&gt;
&lt;th&gt;Linux&lt;/th&gt;
&lt;th&gt;Windows&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;16.0(latest)&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-mac-12266719_latest.zip&#34;&gt;commandlinetools-mac-12266719_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-linux-12266719_latest.zip&#34;&gt;commandlinetools-linux-12266719_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-win-12266719_latest.zip&#34;&gt;commandlinetools-win-12266719_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-mac-11479570_latest.zip&#34;&gt;commandlinetools-mac-11479570_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-linux-11479570_latest.zip&#34;&gt;commandlinetools-linux-11479570_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-win-11479570_latest.zip&#34;&gt;commandlinetools-win-11479570_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;commandlinetools-mac-11076708_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-linux-11076708_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-win-11076708_latest.zip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;commandlinetools-mac-10406996_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-linux-10406996_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-win-10406996_latest.zip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-mac-9862592_latest.zip&#34;&gt;commandlinetools-mac-9862592_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-linux-9862592_latest.zip&#34;&gt;commandlinetools-linux-9862592_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;https://dl.google.com/android/repository/commandlinetools-win-9862592_latest.zip&#34;&gt;commandlinetools-win-9862592_latest.zip&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;commandlinetools-mac-9477386_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-linux-9477386_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-win-9477386_latest.zip&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;commandlinetools-mac-9123335_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-linux-9123335_latest.zip&lt;/td&gt;
&lt;td&gt;commandlinetools-win-9123335_latest.zip&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;p&gt;下载地址的生成规则：&lt;code&gt;https://dl.google.com/android/repository/文件名&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;JDK-对应-major-version&#34;&gt;&lt;a href=&#34;#JDK-对应-major-version&#34; class=&#34;headerlink&#34; title=&#34;JDK 对应 major version&#34;&gt;&lt;/a&gt;JDK 对应 major version&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Java SE 21 = 65 (0x41 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 20 = 64 (0x40 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 19 = 63 (0x3F hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 18 = 62 (0x3E hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(LTS) Java SE 17 = 61 (0x3D hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 16 = 60 (0x3C hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 15 = 59 (0x3B hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 14 = 58 (0x3A hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 13 = 57 (0x39 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 12 = 56 (0x38 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(LTS) Java SE 11 = 55 (0x37 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 10 = 54 (0x36 hex),[4]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 9 = 53 (0x35 hex),[5]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(LTS) Java SE 8 = 52 (0x34 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 7 = 51 (0x33 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 6.0 = 50 (0x32 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Java SE 5.0 = 49 (0x31 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;JDK 1.4 = 48 (0x30 hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;JDK 1.3 = 47 (0x2F hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;JDK 1.2 = 46 (0x2E hex),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;JDK 1.1 = 45 (0x2D hex).&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;资料来源：&lt;a href=&#34;https://en.wikipedia.org/wiki/Java_class_file#General_layout&#34;&gt;Java class file&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;JDK-LTS-信息&#34;&gt;&lt;a href=&#34;#JDK-LTS-信息&#34; class=&#34;headerlink&#34; title=&#34;JDK LTS 信息&#34;&gt;&lt;/a&gt;JDK LTS 信息&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;JDK 17(LTS)&lt;ul&gt;
&lt;li&gt;major version &amp;#x3D; 61&lt;/li&gt;
&lt;li&gt;积极支持：2026年9月30日&lt;/li&gt;
&lt;li&gt;安全支持：2029年9月30日&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;JDK 11(LTS)&lt;ul&gt;
&lt;li&gt;major version &amp;#x3D; 55&lt;/li&gt;
&lt;li&gt;积极支持：2023年9月30日&lt;/li&gt;
&lt;li&gt;安全支持：2026年9月30日&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;JDK 8(LTS)&lt;ul&gt;
&lt;li&gt;major version &amp;#x3D; 52&lt;/li&gt;
&lt;li&gt;积极支持：2022年3月31日&lt;/li&gt;
&lt;li&gt;安全支持：2030年12月31日&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;资料来源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://endoflife.date/java&#34;&gt;https://endoflife.date/java&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.oracle.com/java/technologies/java-se-glance.html&#34;&gt;https://www.oracle.com/java/technologies/java-se-glance.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;如果有什么建议或者问题可以随时联系我，共同探讨学习：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Github： &lt;a href=&#34;https://github.com/likfe&#34;&gt;likfe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSDN：&lt;a href=&#34;https://micro.blog.csdn.net/&#34;&gt;他叫自己Mr.张&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;掘金：&lt;a href=&#34;https://juejin.im/user/56042f4b60b2f3a91f58461d&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;微博：&lt;a href=&#34;http://weibo.com/zyansen&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content>
        <category term="Android" />
        <category term="Mac" />
        <category term="Linux" />
        <category term="JDK" />
        <updated>2023-11-21T06:05:47.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2022/10/25/ventura-ssh-error/</id>
        <title>解决 macOS Ventura 使用 ssh、git 等无法正常使用的问题</title>
        <link rel="alternate" href="https://likfe.com/2022/10/25/ventura-ssh-error/"/>
        <content type="html">&lt;p&gt;关键词：macOS Ventura、Ventura、SSH、git、Permission denied&lt;/p&gt;
&lt;h2 id=&#34;问题描述&#34;&gt;&lt;a href=&#34;#问题描述&#34; class=&#34;headerlink&#34; title=&#34;问题描述&#34;&gt;&lt;/a&gt;问题描述&lt;/h2&gt;&lt;p&gt;升级到 macOS Ventura 后，无法使用 SSH 命令登入服务器，开启日志后，可能会看到 &lt;code&gt;no matching host key type found&lt;/code&gt; 的报错信息。&lt;br&gt;如果是使用了基于 SSH 协议的相关指令，也会发生错误。比如使用 &lt;code&gt;git clone&lt;/code&gt; 、&lt;code&gt;git pull&lt;/code&gt; 等去同步基于 SSH 地址的 git 仓库代码时，会提示 &lt;code&gt;Permission denied (publickey) &lt;/code&gt;。&lt;/p&gt;
&lt;h2 id=&#34;定位问题&#34;&gt;&lt;a href=&#34;#定位问题&#34; class=&#34;headerlink&#34; title=&#34;定位问题&#34;&gt;&lt;/a&gt;定位问题&lt;/h2&gt;&lt;p&gt;经过查证，macOS Ventura 内置使用了 OpenSSH_9.0p1，根据 &lt;a href=&#34;https://www.openssh.com/releasenotes.html&#34;&gt;OpenSSH 发行说明&lt;/a&gt; 可以得知，从 OpenSSH 8.8&amp;#x2F;8.8p1 版本开始，就默认关闭了 ssh-rsa 算法。那么 macOS Ventura 内置使用的 OpenSSH_9.0p1 也是默认关闭了 ssh-rsa 算法。&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;原文内容如下：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;OpenSSH 8.8/8.8p1 (2021-09-26)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Incompatibility is more likely when connecting to older SSH&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;implementations that have not been upgraded or have not closely tracked&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;improvements in the SSH protocol. For these cases, it may be necessary&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;to selectively re-enable RSA/SHA1 to allow connection and/or user&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;authentication via the HostkeyAlgorithms and PubkeyAcceptedAlgorithms&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;options. For example, the following stanza in ~/.ssh/config will enable&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;RSA/SHA1 for host and user authentication for a single destination host:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    Host old-host&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        HostkeyAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        PubkeyAcceptedAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;We recommend enabling RSA/SHA1 only as a stopgap measure until legacy&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;implementations can be upgraded or reconfigured with another key type&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;(such as ECDSA or Ed25519).&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OpenSSH 8.7/8.7p1 (2021-08-20)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;OpenSSH will disable the ssh-rsa signature scheme by default in the&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;next release.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;解决方案&#34;&gt;&lt;a href=&#34;#解决方案&#34; class=&#34;headerlink&#34; title=&#34;解决方案&#34;&gt;&lt;/a&gt;解决方案&lt;/h2&gt;&lt;p&gt;解决方案有 2 个：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;基于更安全的 ed25519 哈希算法生成新的密钥，并配置到对应的服务器上、Github|Gitlab 的后台等&lt;/li&gt;
&lt;li&gt;本地重新启用 ssh 对 ssh-rsa 算法的支持&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;方案一：重新生成-ed25519-算法的密钥&#34;&gt;&lt;a href=&#34;#方案一：重新生成-ed25519-算法的密钥&#34; class=&#34;headerlink&#34; title=&#34;方案一：重新生成 ed25519 算法的密钥&#34;&gt;&lt;/a&gt;方案一：重新生成 ed25519 算法的密钥&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ssh-keygen -t ed25519&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;执行上述命令后，按照提示输入信息，并记录好生成的密钥文件名信息（密码，可选）。&lt;br&gt;&lt;strong&gt;后续操作&lt;/strong&gt;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;如果是用于登录服务器，替换或者新增密钥的公钥信息到服务器上&lt;/li&gt;
&lt;li&gt;如果是 Github|Gitlab，添加新的公钥信息到账号的SSH-Key里&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;方案二：重新启用-RSA-x2F-SHA1&#34;&gt;&lt;a href=&#34;#方案二：重新启用-RSA-x2F-SHA1&#34; class=&#34;headerlink&#34; title=&#34;方案二：重新启用 RSA&amp;#x2F;SHA1&#34;&gt;&lt;/a&gt;方案二：重新启用 RSA&amp;#x2F;SHA1&lt;/h3&gt;&lt;p&gt;如果替换新的密钥成本比较大，可以考虑重新启用 RSA&amp;#x2F;SHA1 以允许连接或者进行用户认证。&lt;br&gt;具体的配置，参考 OpenSSH 8.8&amp;#x2F;8.8p1 的 Release Notes 可知，可以选择仅启用单个密钥的 RSA&amp;#x2F;SHA1 支持，也可无差别全部启用。&lt;/p&gt;
&lt;p&gt;都是针对 &lt;code&gt;~/.ssh/config&lt;/code&gt; 文件（不存在的话则新增此文件）进行操作：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;启用单个主机或者地址&lt;/strong&gt;：（如果不懂 Host xxx-host 的含义，建议使用启用全部场景）&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 在 ~/.ssh/config 文件的对应主机配置里新增2行：&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Host xxx-host&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    HostkeyAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    PubkeyAcceptedAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;默认全部场景都启用&lt;/strong&gt;：&lt;/p&gt;
&lt;figure class=&#34;highlight coffeescript&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 配置里有 Host * 配置的，需要写到 Host * 内&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Host *&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	HostkeyAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;	PubkeyAcceptedAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 没有的，在 ~/.ssh/config 文件的顶部插入或者尾部新增2行：&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;HostkeyAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;PubkeyAcceptedAlgorithms +ssh-rsa&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;PS：如果 Windows 11 或者 Linux 遇到类似的情况，解决思路也是如此。&lt;/p&gt;
&lt;p&gt;如果有什么建议或者问题可以随时联系我，共同探讨学习：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Github： &lt;a href=&#34;https://github.com/likfe&#34;&gt;likfe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSDN：&lt;a href=&#34;https://micro.blog.csdn.net/&#34;&gt;他叫自己Mr.张&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;掘金：&lt;a href=&#34;https://juejin.im/user/56042f4b60b2f3a91f58461d&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;微博：&lt;a href=&#34;http://weibo.com/zyansen&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content>
        <category term="Mac" />
        <updated>2022-10-25T03:11:02.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2017/11/29/mac10-13-root-bug/</id>
        <title>简单修复MacOS High Sierra 允许 Root 用户无密码登录的安全 Bug</title>
        <link rel="alternate" href="https://likfe.com/2017/11/29/mac10-13-root-bug/"/>
        <content type="html">&lt;p&gt;macOS High Sierra 最近爆出一个严重的安全漏洞，允许任何人在没有密码的情况下以完全管理功能的 root 用户登录到 Mac。据说已经有安全补丁，但是很多人未收到推送。&lt;/p&gt;
&lt;p&gt;受影响的系统版本：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;macOS High Sierra 10.13&lt;/li&gt;
&lt;li&gt;macOS High Sierra 10.13.1&lt;/li&gt;
&lt;li&gt;macOS High Sierra 10.13.2 beta&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;同时，这些系统下还需符合以下&lt;strong&gt;条件之一&lt;/strong&gt;时才会受到安全漏洞的影响：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;以前&lt;strong&gt;没有&lt;/strong&gt;启用 root 账户&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;没有&lt;/strong&gt;在 Mac 上更改过 root 用户账户密码&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里有个比较简单的解决方法，可以防止这个安全 Bug 成为一个大问题。简单来说就是：&lt;strong&gt;在受影响的 Mac 上设置 root 用户的密码。&lt;/strong&gt;&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h2 id=&#34;为-root-账户设置密码&#34;&gt;&lt;a href=&#34;#为-root-账户设置密码&#34; class=&#34;headerlink&#34; title=&#34;为 root 账户设置密码&#34;&gt;&lt;/a&gt;为 root 账户设置密码&lt;/h2&gt;&lt;p&gt;有两个方法来为 root 账户设置密码：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;使用「目录实用工具」（Directory Utility）&lt;/li&gt;
&lt;li&gt;使用「命令行工具」（Terminal）&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;方法一：目录实用工具&#34;&gt;&lt;a href=&#34;#方法一：目录实用工具&#34; class=&#34;headerlink&#34; title=&#34;方法一：目录实用工具&#34;&gt;&lt;/a&gt;方法一：目录实用工具&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;打开 Spotlight （Command+Spacebar）输入 &lt;code&gt;Directory Utility&lt;/code&gt; 打开「目录实用工具」；&lt;/li&gt;
&lt;li&gt;点击「服务」页左下方的小锁，输入当前账户的密码后点击「修改配置」确认进行解锁；&lt;/li&gt;
&lt;li&gt;点击菜单栏中的「编辑」-「更改 Root 密码」，输入两次密码（一定要记好了）并点「确定」即可。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;注意：如果「3」中更改 Root 密码不能点选，先点击「启用 Root 用户」。&lt;/p&gt;
&lt;h3 id=&#34;方法二：终端命令行&#34;&gt;&lt;a href=&#34;#方法二：终端命令行&#34; class=&#34;headerlink&#34; title=&#34;方法二：终端命令行&#34;&gt;&lt;/a&gt;方法二：终端命令行&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;在 LaunchPad 里打开 「终端」；&lt;/li&gt;
&lt;li&gt;在「终端」里输入：&lt;code&gt;sudo passwd root&lt;/code&gt; ；&lt;/li&gt;
&lt;li&gt;键入当前账户的密码&lt;/li&gt;
&lt;li&gt;看到：Changing password for root.New password 时即开始输入你要设置的 root 用户的密码&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;自检是否受免密码登录-root-漏洞的影响&#34;&gt;&lt;a href=&#34;#自检是否受免密码登录-root-漏洞的影响&#34; class=&#34;headerlink&#34; title=&#34;自检是否受免密码登录 root 漏洞的影响&#34;&gt;&lt;/a&gt;自检是否受免密码登录 root 漏洞的影响&lt;/h2&gt;&lt;p&gt;你可以从通用启动登录界面或通过系统首选项（如安全性与隐私或用户和组）中的任何管理员身份验证面板（单击锁定图标）执行此操作。把用户名输入为：root，不要输密码，然后点两次「解锁」，能解锁的话即受此漏洞影响。&lt;/p&gt;
</content>
        <category term="Mac" />
        <updated>2017-11-29T07:44:47.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2017/03/02/mac-android-no-log/</id>
        <title>解决 Mac 下 Android Studio 不打印日志</title>
        <link rel="alternate" href="https://likfe.com/2017/03/02/mac-android-no-log/"/>
        <content type="html">&lt;p&gt;在 Mac 下使用 Android Studio 时常会遇到 Android Monitor 突然不打印日志的情况，目前知道的有三个方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;重启 Android Studio&lt;/p&gt;
&lt;p&gt;这个不需要多说，点击 Android Studio 的 File &amp;#x3D;&amp;gt; Invalidate caches &amp;#x2F; Restart ，选择 Just Restart&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;重启 adb&lt;/p&gt;
&lt;p&gt;命令行下输入：&lt;code&gt;adb kill-server&lt;/code&gt; 关闭 adb，&lt;code&gt;adb start-server&lt;/code&gt; 开启 adb 即可。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;切换 adb 的 root&amp;#x2F;unroot 模式&lt;/p&gt;
&lt;p&gt;这个实际上还是重启了 adb 。 &lt;code&gt;adb root&lt;/code&gt; 使 adb 默认进入 root 模式，&lt;code&gt;adb unroot&lt;/code&gt; 使 adb 进入非 root 模式，切换模式会导致 adb 重启。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</content>
        <category term="Android" />
        <category term="Mac" />
        <updated>2017-03-02T06:44:54.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2016/08/05/use-gitbook-on-mac/</id>
        <title>在自己的电脑上安装 GitBook For Mac</title>
        <link rel="alternate" href="https://likfe.com/2016/08/05/use-gitbook-on-mac/"/>
        <content type="html">&lt;h2 id=&#34;剪不断的情缘&#34;&gt;&lt;a href=&#34;#剪不断的情缘&#34; class=&#34;headerlink&#34; title=&#34;剪不断的情缘&#34;&gt;&lt;/a&gt;剪不断的情缘&lt;/h2&gt;&lt;p&gt;之前写了一篇 &lt;a href=&#34;http://blog.csdn.net/ys743276112/article/details/45130831&#34;&gt;在自己的服务器上安装GitBook&lt;/a&gt; ,发布于 2015-04-20，当时的安装环境是 &lt;code&gt;CentOS 6.X_64Bit&lt;/code&gt;，今天想再研究一下这个 &lt;code&gt;GitBook&lt;/code&gt; ，发现在基于 &lt;code&gt;Linux&lt;/code&gt; 内核的机器上&lt;strong&gt;安装基础功能很简单&lt;/strong&gt;，但是牵涉到生成 &lt;code&gt;pdf/epub/mobi&lt;/code&gt; 格式的书籍时，&lt;strong&gt;安装calibre的代价非常大&lt;/strong&gt;（因为要安装 N 多前置库），对于不是非常非常熟练使用 &lt;code&gt;Linux&lt;/code&gt; 的用户，几乎是一种灾难。&lt;/p&gt;
&lt;p&gt;然而，对于 &lt;code&gt;OS X&lt;/code&gt; 和 &lt;code&gt;Windows&lt;/code&gt; 用户，则相对容易很多（Windows环境未测试），安装相应的 &lt;code&gt;calibre&lt;/code&gt; 的客户端即可解决格式转换的问题。&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h2 id=&#34;只讲重点-゜-゜&#34;&gt;&lt;a href=&#34;#只讲重点-゜-゜&#34; class=&#34;headerlink&#34; title=&#34;只讲重点  (゜-゜)&#34;&gt;&lt;/a&gt;只讲重点  (゜-゜)&lt;/h2&gt;&lt;p&gt;前提条件这里一笔带过（在 Mac 上进行）：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;安装 &lt;code&gt;nvm&lt;/code&gt; ；&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;nvm&lt;/code&gt; 安装 &lt;code&gt;Node.js&lt;/code&gt; ，我安装了 &lt;code&gt;v5.0.0&lt;/code&gt; 版本的；&lt;/li&gt;
&lt;li&gt;使用 &lt;code&gt;npm&lt;/code&gt; 安装 &lt;code&gt;gitbook&lt;/code&gt; ，不会的看 &lt;a href=&#34;http://toolchain.gitbook.com/setup.html&#34;&gt;这里&lt;/a&gt;；&lt;/li&gt;
&lt;li&gt;安装 &lt;code&gt;calibre&lt;/code&gt; 的客户端&amp;#x3D;&amp;#x3D;&amp;gt;重点在此步；&lt;/li&gt;
&lt;li&gt;执行生成命令：生成指定格式的文件。&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;画重点啦-´−｀-ﾝｰ-咳咳，看黑板&#34;&gt;&lt;a href=&#34;#画重点啦-´−｀-ﾝｰ-咳咳，看黑板&#34; class=&#34;headerlink&#34; title=&#34;画重点啦 (´−｀) ﾝｰ 咳咳，看黑板&#34;&gt;&lt;/a&gt;画重点啦 (´−｀) ﾝｰ 咳咳，看黑板&lt;/h3&gt;&lt;p&gt;1.下载对应的 &lt;code&gt;Calibre&lt;/code&gt; 文件，&lt;a href=&#34;http://www.calibre-ebook.com/download&#34;&gt;下载地址在此&lt;/a&gt; ，Mac 用户自然是下载 &lt;code&gt;OS X&lt;/code&gt; 版本的了；&lt;br&gt;2.下载安装 &lt;code&gt;Calibre&lt;/code&gt; ，然后&lt;strong&gt;务必打开运行一次 &lt;code&gt;Calibre&lt;/code&gt;&lt;/strong&gt; ，否则就嘿嘿嘿了；&lt;br&gt;3.在终端里执行&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;ln&lt;/span&gt; -s /Applications/calibre.app/Contents/MacOS/ebook-convert /usr/local/bin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;//官方的文档里是如下命令：会引起权限和命令无效等问题&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sudo &lt;span class=&#34;built_in&#34;&gt;ln&lt;/span&gt; -s ~/Applications/calibre.app/Contents/MacOS/ebook-convert /usr/bin&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;4.转换格式，参考官方文档&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Generate a PDF file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ gitbook pdf ./ ./mybook.pdf&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Generate an ePub file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ gitbook epub ./ ./mybook.epub&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# Generate a Mobi file&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$ gitbook mobi ./ ./mybook.mobi&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;总结&#34;&gt;&lt;a href=&#34;#总结&#34; class=&#34;headerlink&#34; title=&#34;总结&#34;&gt;&lt;/a&gt;总结&lt;/h2&gt;&lt;p&gt;不管怎么说，终于还是实现了 &lt;code&gt;GitBook&lt;/code&gt; 在 Mac 上的完美运行。在有生成 &lt;code&gt;pdf/epub/mobi&lt;/code&gt; 格式的文件的需求时，就不心虚了。&lt;/p&gt;
&lt;p&gt;最近在阅读的比较火的一个项目 &lt;a href=&#34;https://github.com/GeniusVJR/LearningNotes&#34;&gt;LearningNotes&lt;/a&gt; ，是一个 Android 知识点笔记和面试题的一个总结，我用 &lt;code&gt;GitBook&lt;/code&gt; 生成了一份 HTML 版，&lt;a href=&#34;http://doc.inkcode.cc/ALN/index.html&#34;&gt;点击这里访问&lt;/a&gt;，我还打算和作者联系一下，帮他生成 &lt;code&gt;pdf/epub/mobi&lt;/code&gt; 格式，方便本地阅读。&lt;/p&gt;
&lt;p&gt;PS:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;你可以通过 &lt;a href=&#34;https://github.com/likfe&#34;&gt;Github&lt;/a&gt;、&lt;a href=&#34;http://blog.csdn.net/ys743276112&#34;&gt;CSDN&lt;/a&gt; 和 &lt;a href=&#34;http://weibo.com/zyansen&#34;&gt;微博&lt;/a&gt; 与我联系&lt;/p&gt;
&lt;/blockquote&gt;
</content>
        <category term="Mac" />
        <category term="GitBook" />
        <category term="OSX" />
        <updated>2016-08-04T17:43:19.000Z</updated>
    </entry>

    <follow_challenge>
        <feedId>73986782175755264</feedId>
        <userId>72100854660436992</userId>
    </follow_challenge>
</feed>
