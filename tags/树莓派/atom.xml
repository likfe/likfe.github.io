<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://likfe.com</id>
    <title>Cafeting • Posts by &#34;树莓派&#34; tag</title>
    <link href="https://likfe.com" />
    <updated>2022-10-17T10:38:52.000Z</updated>
    <category term="Android" />
    <category term="Flurry" />
    <category term="Confluence" />
    <category term="反编译" />
    <category term="ReactNative" />
    <category term="AccessibilityNodeInfo" />
    <category term="StackOverflow" />
    <category term="Proxy" />
    <category term="AndroidStudio" />
    <category term="Translucent" />
    <category term="SwipeBack" />
    <category term="PopWindow" />
    <category term="AMH" />
    <category term="Flarum" />
    <category term="PHP" />
    <category term="Composer" />
    <category term="ViewPager" />
    <category term="ADB" />
    <category term="Clipboard" />
    <category term="framework" />
    <category term="gradle" />
    <category term="DialogFragment" />
    <category term="PopupWindow" />
    <category term="Google" />
    <category term="Glide" />
    <category term="Intent" />
    <category term="RecyclerView" />
    <category term="Lambda" />
    <category term="Leancloud" />
    <category term="Gradle" />
    <category term="Messenger" />
    <category term="Make" />
    <category term="Mac" />
    <category term="Linux" />
    <category term="JDK" />
    <category term="Fragment" />
    <category term="View" />
    <category term="Scrollbar" />
    <category term="备案" />
    <category term="域名" />
    <category term="Github" />
    <category term="GreenDao" />
    <category term="Rust" />
    <category term="IDEA" />
    <category term="GooglePlay" />
    <category term="Docker" />
    <category term="Jenkins" />
    <category term="MAMP" />
    <category term="树莓派" />
    <category term="Sublime Text" />
    <category term="Emmet" />
    <category term="ThinkPHP" />
    <category term="GitBook" />
    <category term="OSX" />
    <entry>
        <id>https://likfe.com/2022/10/17/rasP4b-avahi-daemon/</id>
        <title>禁用和卸载树莓派 4B 上 avahi-daemon</title>
        <link rel="alternate" href="https://likfe.com/2022/10/17/rasP4b-avahi-daemon/"/>
        <content type="html">&lt;p&gt;关键词：树莓派、Linux、avahi、avahi-daemon、CPU&lt;/p&gt;
&lt;h2 id=&#34;背景&#34;&gt;&lt;a href=&#34;#背景&#34; class=&#34;headerlink&#34; title=&#34;背景&#34;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;在树莓派4B上安装了官方的 Ubuntu 系统，运行 &lt;code&gt;top&lt;/code&gt; 指令，发现 &lt;code&gt;avahi-daemon&lt;/code&gt; 占用 CPU 高，且对 CPU 的消耗波动比较大。&lt;/p&gt;
&lt;p&gt;查资料发现：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Avahi 允许程序在不需要进行手动网络配置的情况 下，在一个本地网络中发布和获知各种服务和主机。例如，当某用户把他的计算机接入到某个局域网时，如果他的机器运行有Avahi服务，则Avahi程式自动广播，从而发现网络中可用的打印机、共享文件和可相互聊天的其他用户。这有点象他正在接收局域网中的各种网络广告一样。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;除非你有兼容的设备或使用 zeroconf 协议的服务，否则应该关闭它。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我不需要 &lt;strong&gt;zeroconf&lt;/strong&gt; 的相关功能，遂尝试禁用或者卸载  &lt;code&gt;avahi-daemon&lt;/code&gt;。&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h2 id=&#34;处理过程&#34;&gt;&lt;a href=&#34;#处理过程&#34; class=&#34;headerlink&#34; title=&#34;处理过程&#34;&gt;&lt;/a&gt;处理过程&lt;/h2&gt;&lt;p&gt;基本环境：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;硬件：树莓派4B&lt;/li&gt;
&lt;li&gt;系统：Ubuntu 21.10 (GNU&amp;#x2F;Linux 5.13.0-1031-raspi aarch64) &lt;/li&gt;
&lt;li&gt;权限：root 用户权限&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;方式一：停止和禁用服务&#34;&gt;&lt;a href=&#34;#方式一：停止和禁用服务&#34; class=&#34;headerlink&#34; title=&#34;方式一：停止和禁用服务&#34;&gt;&lt;/a&gt;方式一：停止和禁用服务&lt;/h3&gt;&lt;p&gt;首先尝试禁用  &lt;code&gt;avahi-daemon&lt;/code&gt; ：（root 权限）&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 尝试停止并禁用 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 查看 avahi-daemon 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 停止 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl stop avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 再次查看 avahi-daemon 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 禁用 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl &lt;span class=&#34;built_in&#34;&gt;disable&lt;/span&gt; avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;执行停止  &lt;code&gt;avahi-daemon&lt;/code&gt;  的时候，返回一个提示：&lt;code&gt;avahi-daemon.socket&lt;/code&gt; 可能会重启 &lt;code&gt;avahi-daemon&lt;/code&gt;。出现这种情况时，说明 &lt;code&gt;avahi-daemon&lt;/code&gt; 是由 &lt;code&gt;avahi-daemon.socket&lt;/code&gt; 启动的，我们单独停止和禁用 &lt;code&gt;avahi-daemon&lt;/code&gt; 是不行的，它还会自动启动。&lt;/p&gt;
&lt;p&gt;需要先停止 &lt;code&gt;avahi-daemon.socket&lt;/code&gt;，再停止 &lt;code&gt;avahi-daemon&lt;/code&gt;：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 停止和禁用 avahi-daemon.socket&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 查看 avahi-daemon.socket 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.socket&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 停止 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl stop avahi-daemon.socket&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 再次查看 avahi-daemon 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.socket&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 禁用 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl &lt;span class=&#34;built_in&#34;&gt;disable&lt;/span&gt; avahi-daemon.socket&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 停止和禁用 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 查看 avahi-daemon 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 停止 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl stop avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 再次查看 avahi-daemon 当前状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl status avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;## 禁用 avahi-daemon&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl &lt;span class=&#34;built_in&#34;&gt;disable&lt;/span&gt; avahi-daemon.service&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;由于本人遇到了重启后这2个服务还会自动重启的情况，所以最终通过卸载的方式来解决的。你可以根据自己的实际情况，决定是否使用卸载的方案。&lt;/p&gt;
&lt;h3 id=&#34;方式二：卸载-avahi-daemon-相关的所有服务&#34;&gt;&lt;a href=&#34;#方式二：卸载-avahi-daemon-相关的所有服务&#34; class=&#34;headerlink&#34; title=&#34;方式二：卸载 avahi-daemon 相关的所有服务&#34;&gt;&lt;/a&gt;方式二：卸载 avahi-daemon 相关的所有服务&lt;/h3&gt;&lt;p&gt;由于单纯的卸载 avahi-daemon 可能引起依赖它的软件无法正常运行，此操作需要慎重考虑和检测：&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 卸载方式一：卸载并清理配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt-get purge avahi-daemon&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 卸载方式而：卸载并保留配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt-get remove avahi-daemon&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;#注意：卸载时可能会提示下列软件包将被【卸载】，即卸载 avahi-daemon 会同时卸载依赖它的软件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;# 最后，你可以清理下不需要的自动安装的软件：&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;apt autoremove&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;p&gt;资料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://superuser.com/questions/316715/removing-the-avahi-daemon-on-ubuntu&#34;&gt;Removing the avahi-daemon on Ubuntu&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果有什么建议或者问题可以随时联系我，共同探讨学习：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Github： &lt;a href=&#34;https://github.com/likfe&#34;&gt;likfe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSDN：&lt;a href=&#34;https://micro.blog.csdn.net/&#34;&gt;他叫自己Mr.张&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;掘金：&lt;a href=&#34;https://juejin.im/user/56042f4b60b2f3a91f58461d&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;微博：&lt;a href=&#34;http://weibo.com/zyansen&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content>
        <category term="Linux" />
        <category term="树莓派" />
        <updated>2022-10-17T10:38:52.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2021/12/19/raspberry-pi-hdmi/</id>
        <title>树莓派配置文件 config.txt - HDMI 热插拔</title>
        <link rel="alternate" href="https://likfe.com/2021/12/19/raspberry-pi-hdmi/"/>
        <content type="html">&lt;p&gt;快速预览：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;config.txt&lt;/code&gt; 的路径通常是 &lt;code&gt;/boot/config.txt&lt;/code&gt;，如果找不到，可能是 &lt;code&gt;/boot/firmware/config.txt&lt;/code&gt;。再找不到，参考文章内【找到 config.txt】的思路去找。&lt;/li&gt;
&lt;li&gt;在 config.txt 里增加如下 2 行内容后重启树莓派即可开启 HDMI 热插拔功能&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;hdmi_force_hotplug=1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hdmi_drive=2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;h2 id=&#34;0x00：问题和背景&#34;&gt;&lt;a href=&#34;#0x00：问题和背景&#34; class=&#34;headerlink&#34; title=&#34;0x00：问题和背景&#34;&gt;&lt;/a&gt;0x00：问题和背景&lt;/h2&gt;&lt;p&gt;新到的树莓派4B，安装了带桌面的 Ubuntu 系统，前期为了方便，通过 HDMI 线外接了显示器，方便配置系统。但是配置完毕并拔掉显示器之后发现一个问题：重启树莓派后，如果没有外接显示器，则无法正常进入系统，定位到是 HDMI 检测机制的问题，它默认需要插上显示器才能正常启动。&lt;/p&gt;
&lt;p&gt;查到资料需要开启树莓派的 HDMI 热插拔才能不依赖外接显示器。&lt;br&gt;于是需要我们：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;找到配置文件 config.txt （本文重点）&lt;/li&gt;
&lt;li&gt;修改 config.txt&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;0x01：定位-config-txt&#34;&gt;&lt;a href=&#34;#0x01：定位-config-txt&#34; class=&#34;headerlink&#34; title=&#34;0x01：定位 config.txt&#34;&gt;&lt;/a&gt;0x01：定位 config.txt&lt;/h2&gt;&lt;p&gt;修改 config.txt 有2大类方法&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;取出 SD 卡，在其他电脑上进行读取 SD 卡内容，找到 &lt;code&gt;config.txt&lt;/code&gt; 进行修改&lt;/li&gt;
&lt;li&gt;直接在树莓派内部运行中的系统当中进行修改&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;下面说下方法2：&lt;/p&gt;
&lt;p&gt;通常 &lt;code&gt;config.txt&lt;/code&gt; 的路径是 &lt;code&gt;/boot/config.txt&lt;/code&gt;，但是&lt;strong&gt;如果找不到&lt;/strong&gt;，需要查看下磁盘分区，找到&lt;strong&gt;启动分区&lt;/strong&gt;所在的目录。&lt;/p&gt;
&lt;figure class=&#34;highlight shell&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta prompt_&#34;&gt;$ &lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;fdisk -l&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Device         Boot  Start       End   Sectors  Size Id Type&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/dev/mmcblk0p1 *      2048    526335    524288  256M  c W95 FAT32 (LBA)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/dev/mmcblk0p2      526336 124735454 124209119 59.2G 83 Linux&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;看到2个分区：&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- /dev/mmcblk0p1 (启动分区)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- /dev/mmcblk0p2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta prompt_&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;meta prompt_&#34;&gt;$ &lt;/span&gt;&lt;span class=&#34;language-bash&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;df&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Filesystem     1K-blocks     Used Available Use% Mounted on&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/dev/mmcblk0p1    258095   113997    144099  45% /boot/firmware&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/dev/mmcblk0p2  61862116 11804636  47472868  20% /&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;可见&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- /dev/mmcblk0p2 挂载到 / 目录下，&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;- /dev/mmcblk0p1 挂载到 /boot/firmware 目录下&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;那么，config.txt 没在 /boot/下，应该就在 /boot/firmware 下了，即 /boot/firmware/config.txt&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;0x02：修改-config-txt&#34;&gt;&lt;a href=&#34;#0x02：修改-config-txt&#34; class=&#34;headerlink&#34; title=&#34;0x02：修改 config.txt&#34;&gt;&lt;/a&gt;0x02：修改 config.txt&lt;/h2&gt;&lt;p&gt;添加如下2行到 &lt;code&gt;config.txt&lt;/code&gt; 然后重启树莓派即可&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;hdmi_force_hotplug=1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;hdmi_drive=2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;hdmi_force_hotplug=1&lt;/code&gt; 设置树莓派使用 HDMI 热插拔模式，即使没有检测到 HDMI 显示器。 &lt;/li&gt;
&lt;li&gt;&lt;code&gt;hdmi_drive=2&lt;/code&gt; 将树莓派设置为正常的 HDMI 模式（如果支持和启用，将发送声音）。如果没有这条线，树莓派将默认切换到 DVI（无音频）模式。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;参考资料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://raspberrypi.stackexchange.com/questions/2169/how-do-i-force-the-raspberry-pi-to-turn-on-hdmi&#34;&gt;How do I force the Raspberry Pi to turn on HDMI?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://www.raspigeek.com/index.php?c=read&amp;id=116&amp;page=1&#34;&gt;树莓派配置文件config.txt 参数详细介绍&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://zhuanlan.zhihu.com/p/104282522&#34;&gt;树莓派4系统初始配置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.shellhacks.com/raspberry-pi-force-hdmi-hotplug/&#34;&gt;Raspberry Pi：强制 HDMI 热插拔&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
        <category term="Linux" />
        <category term="树莓派" />
        <updated>2021-12-19T10:56:39.000Z</updated>
    </entry>

    <follow_challenge>
        <feedId>73986782175755264</feedId>
        <userId>72100854660436992</userId>
    </follow_challenge>
</feed>
