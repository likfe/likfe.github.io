<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://likfe.com</id>
    <title>Cafeting • Posts by &#34;gradle&#34; tag</title>
    <link href="https://likfe.com" />
    <updated>2017-03-15T10:45:35.000Z</updated>
    <category term="Android" />
    <category term="Flurry" />
    <category term="Confluence" />
    <category term="反编译" />
    <category term="ReactNative" />
    <category term="AccessibilityNodeInfo" />
    <category term="StackOverflow" />
    <category term="Proxy" />
    <category term="AndroidStudio" />
    <category term="Translucent" />
    <category term="SwipeBack" />
    <category term="PopWindow" />
    <category term="AMH" />
    <category term="Flarum" />
    <category term="PHP" />
    <category term="Composer" />
    <category term="ViewPager" />
    <category term="ADB" />
    <category term="Clipboard" />
    <category term="framework" />
    <category term="gradle" />
    <category term="DialogFragment" />
    <category term="PopupWindow" />
    <category term="Google" />
    <category term="Glide" />
    <category term="Intent" />
    <category term="RecyclerView" />
    <category term="Lambda" />
    <category term="Leancloud" />
    <category term="Gradle" />
    <category term="Messenger" />
    <category term="Make" />
    <category term="Mac" />
    <category term="Linux" />
    <category term="JDK" />
    <category term="Fragment" />
    <category term="View" />
    <category term="Scrollbar" />
    <category term="备案" />
    <category term="域名" />
    <category term="Github" />
    <category term="GreenDao" />
    <category term="Rust" />
    <category term="IDEA" />
    <category term="GooglePlay" />
    <category term="Docker" />
    <category term="Jenkins" />
    <category term="MAMP" />
    <category term="树莓派" />
    <category term="Sublime Text" />
    <category term="Emmet" />
    <category term="ThinkPHP" />
    <category term="GitBook" />
    <category term="OSX" />
    <entry>
        <id>https://likfe.com/2017/03/15/android-studio-exploded-aar/</id>
        <title>Android 必知必会 - Android Studio 2.3 找回 exploded-aar 目录【官方已更新】</title>
        <link rel="alternate" href="https://likfe.com/2017/03/15/android-studio-exploded-aar/"/>
        <content type="html">&lt;p&gt;今天收到邮件提示 &lt;code&gt;exploded-aar&lt;/code&gt; 目录问题在 &lt;code&gt;gradle plugin 2.5&lt;/code&gt; 版本修复好了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Marked as Fixed&lt;/p&gt;
&lt;p&gt;in 2.3&amp;#x2F;2.4 you can look in the build cache entries and look in the input file that indicate the source of the cache entry (maven coordinate).&lt;br&gt;in 2.5+ we switched to Gradle’s own cache so you’ll have to look in the gradle folder.&lt;br&gt;If all you need is manually get the aar content you could also manually download the aar and unzip it yourself.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;查看 Issue 详情（需要梯子）：&lt;a href=&#34;https://issuetracker.google.com/issues/37127616&#34;&gt;Issue 页&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;— 更新于 2017-05-11&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;升级到 Android Studio 2.3 后，Gradle Plugin 也升级到 2.3.0，对应推荐使用的 Gradle 版本是 3.3。&lt;/p&gt;
&lt;p&gt;这时候会发现项目目录下 &lt;code&gt;&amp;#123;module name&amp;#125;/build/intermediates/exploded-aar/&lt;/code&gt; 目录没了，经过一番查找，发现这并不是一个 Bug，是官方刻意为之，它会在 &lt;code&gt;&amp;#123;user name&amp;#125;/.android/build-cache&lt;/code&gt; 下生成一部分缓存文件，来代替 &lt;code&gt;exploded-aar&lt;/code&gt; ，如果需要生成它，可以配置项目目录下的 &lt;code&gt;gradle.properties&lt;/code&gt; ，添加一行内容：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;android.enableBuildCache=false&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;然后重建项目即可在 &lt;code&gt;&amp;#123;module name&amp;#125;/build/intermediates/&lt;/code&gt; 看到 &lt;strong&gt;exploded-aar&lt;/strong&gt; 目录了。&lt;/p&gt;
&lt;p&gt;想重新开启 &lt;code&gt;BuildCache&lt;/code&gt;  功能，可以修改为 &lt;code&gt;android.enableBuildCache=true&lt;/code&gt; 或者直接删除本行内容即可。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PS&lt;/strong&gt;：你可以通过下面的方式和我联系&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;微博：&lt;a href=&#34;http://weibo.com/zyansen&#34;&gt;cafeting&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Github： &lt;a href=&#34;https://github.com/likfe&#34;&gt;likfe&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;CSDN：&lt;a href=&#34;http://blog.csdn.net/ys743276112&#34;&gt;他叫自己Mr.张&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
</content>
        <category term="Android" />
        <category term="AndroidStudio" />
        <category term="Gradle" />
        <updated>2017-03-15T10:45:35.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2017/03/13/android-update-gradle/</id>
        <title>Android Studio 升级 gradle 报错</title>
        <link rel="alternate" href="https://likfe.com/2017/03/13/android-update-gradle/"/>
        <content type="html">&lt;p&gt;错误提示如下：&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Gradle sync failed: Cause: error in opening zip file&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Consult IDE log for more details (Help | Show Log)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;今天升级 2.2 到 2.3 后打开一个项目提示升级 gradle，就同意了，结果报了上面的错误。&lt;/p&gt;
&lt;p&gt;大概原因应该是下载的最新的 gradle 包有问题，新升级后配置的代理失效了。&lt;/p&gt;
&lt;p&gt;操作如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;删除项目目录下的 &lt;code&gt;.gradle/&lt;/code&gt; 整个项目&lt;/li&gt;
&lt;li&gt;查看 &lt;code&gt;gradle/wrapper/gradle-warpper.properties&lt;/code&gt; 的 &lt;code&gt;distributionUrl&lt;/code&gt; 的 gradle 版本，比如是 3.3 ，然后去 &lt;code&gt;~/.gradle/warpper/dists/&lt;/code&gt; 下删除对应版本的 gradle ,这里是 &lt;code&gt;gradle-3.3-all&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;然后重启 Android Studio 让它重新同步即可&lt;/li&gt;
&lt;/ol&gt;
</content>
        <category term="Android" />
        <category term="AndroidStudio" />
        <category term="Gradle" />
        <updated>2017-03-13T03:22:25.000Z</updated>
    </entry>
    <entry>
        <id>https://likfe.com/2016/12/28/android-code-framework/</id>
        <title>Android 必知必会- 解决在 Android Studio 中 framework 等 jar 包无法被引用的问题</title>
        <link rel="alternate" href="https://likfe.com/2016/12/28/android-code-framework/"/>
        <content type="html">&lt;blockquote&gt;
&lt;p&gt;在编译原生 Contacts 应用时需用到非公开的 API，需要引入 framework 等 jar 包，但在 Android Studio 中 SDK 带的 jar 包的优先级最高，导致引入的 framework 等 jar 包无法被引用，请问如何将 framework 等 jar 包的优先级调成最高？&lt;/p&gt;
&lt;p&gt;—— 知乎 &lt;a href=&#34;https://www.zhihu.com/question/35628837&#34;&gt;在 Android Studio 中如何将依赖的 jar 包放在 SDK 的 android.jar 前？&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这是在知乎上的原问题的描述。尝试了该问题下面的多个答案，并没有十分完美的方案，直到一个为公司编译 Android 系统的同事，最近无奈转战到 Android Studio 开始…..&lt;/p&gt;
&lt;h2 id=&#34;背景&#34;&gt;&lt;a href=&#34;#背景&#34; class=&#34;headerlink&#34; title=&#34;背景&#34;&gt;&lt;/a&gt;背景&lt;/h2&gt;&lt;p&gt;先了解一些基础点：&lt;/p&gt;
&lt;h3 id=&#34;Android-Studio-中的六种依赖&#34;&gt;&lt;a href=&#34;#Android-Studio-中的六种依赖&#34; class=&#34;headerlink&#34; title=&#34;Android Studio 中的六种依赖&#34;&gt;&lt;/a&gt;Android Studio 中的六种依赖&lt;/h3&gt;&lt;p&gt;Compile，Provided，APK，Test compile，Debug compile，Release compile&lt;/p&gt;
&lt;span id=&#34;more&#34;&gt;&lt;/span&gt;

&lt;p&gt;&lt;strong&gt;Compile&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;compile 是对所有的 build type 以及 favlors 都会参与编译并且打包到最终的 apk 文件中。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Provided&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Provided 是对所有的 build type 以及 favlors 只在编译时使用，类似 eclipse 中的 external-libs ，只参与编译，不打包到最终 apk 。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;APK&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;只会打包到 apk 文件中，而不参与编译，所以不能再代码中直接调用 jar 中的类或方法，否则在编译时会报错&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Test compile&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Test compile 仅仅是针对单元测试代码的编译编译以及最终打包测试 apk 时有效，而对正常的 debug 或者 release apk 包不起作用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Debug compile&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Debug compile 仅仅针对 debug 模式的编译和最终的 debug apk 打包。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Release compile&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Release compile 仅仅针对 Release 模式的编译和最终的 Release apk 打包。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;PS：&lt;/strong&gt;我们会用到 &lt;code&gt;Provided&lt;/code&gt; 引用。&lt;/p&gt;
</content>
        <category term="Android" />
        <category term="framework" />
        <category term="gradle" />
        <updated>2016-12-28T08:01:13.000Z</updated>
    </entry>

    <follow_challenge>
        <feedId>73986782175755264</feedId>
        <userId>72100854660436992</userId>
    </follow_challenge>
</feed>
